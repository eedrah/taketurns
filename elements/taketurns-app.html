<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/font-roboto/roboto.html">
<link rel="import" href="../bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="../bower_components/core-animated-pages/transitions/slide-from-right.html">
<link rel="import" href="../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="page-chooseroom.html">
<link rel="import" href="page-participate.html">

<polymer-element name="taketurns-app">

<template>
  <style>
    core-animated-pages {
    	height: 100%;
    	margin-top: 10px;
    }
  </style>
  <div layout vertical fit>
    <section start>
      <core-toolbar start>
        <core-icon icon="question-answer"></core-icon>
        <div flex>Take Turns, Sally.</div>
      </core-toolbar>
    </section>

    <core-animated-pages  selected="{{selected}}" transitions="slide-from-right">
      <section>
        <page-chooseroom id="chooseroom"></page-chooseroom>
      </section>
      <section>
        <page-participate config="{{config}}"></page-participate>
      </section>
    </core-animated-pages>
  </div>
</template>

<script>
  Polymer({
  	selected: 0,
    config: {},
    ready: function() {
      this.$.chooseroom.addEventListener("join", function(e) {
      	this.selected = 1;
      	this.config = e.detail;
      }.bind(this));
    },
  });
</script>

</polymer-element>
